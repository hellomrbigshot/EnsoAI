#!/bin/bash
echo "开始生成 WebGL 压力测试内容..."
echo "请在脚本运行时，快速拖拽终端窗口边缘，改变窗口大小！"
sleep 2

# 颜色代码数组
colors=(31 32 33 34 35 36 37 91 92 93 94 95 96 97)
bg_colors=(41 42 43 44 45 46 47 101 102 103 104 105 106 107)

# 输出大量随机样式的 Unicode 字符
for i in {1..50000}; do
    # 随机取色
    fg=${colors[$RANDOM % ${#colors[@]}]}
    bg=${bg_colors[$RANDOM % ${#bg_colors[@]}]}
    
    # 构造一些复杂的 Unicode 组合，包括 Emoji 和 CJK 字符
    # 这些字符会迅速填满 WebGL 的纹理图集
    printf "\033[1;${fg};${bg}m ⚡ 汉字测试 🚀 \033[0m"
    
    # 偶尔换行
    if [[ $((i % 10)) -eq 0 ]]; then
        echo ""
    fi
done

echo ""
echo "----------------------------------------"
echo "现在！请抓住窗口边缘，疯狂拖动改变大小！"
echo "观察上面的彩色文字是否出现破碎、残影或乱码。"
echo "----------------------------------------"
